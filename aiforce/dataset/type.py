# AUTOGENERATED! DO NOT EDIT! File to edit: dataset-type.ipynb (unless otherwise specified).

__all__ = ['DatasetType', 'infer_dataset_type']


# Cell
import os
from enum import Enum


# Cell
class DatasetType(Enum):
    """
    Currently supported Machine Learning Types.
    """
    IMAGE_CLASSIFICATION = 'image_classification'
    IMAGE_SEGMENTATION = 'image_segmentation'
    IMAGE_GENERATION = 'image_generation'
    IMAGE_OBJECT_DETECTION = 'image_object_detection'

    def __str__(self):
        return self.value


# Cell
def infer_dataset_type(path):
    """
    Try to infer the dataset type from the category file path.
    `path`: the path to infer from
    return: the infered dataset type
    raises: `ValueError` if infer failed
    """
    path_elements = reversed(os.path.normpath(path).split(os.sep))
    for elem in path_elements:
        try:
            return DatasetType(elem)
        except ValueError:
            pass
    raise ValueError("Error, can not infer dataset type from path: {}".format(path))
